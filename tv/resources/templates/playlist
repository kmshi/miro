<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      eventCookie="@@@eventCookie@@@" dtvPlatform="@@@dtvPlatform@@@">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Miro Playlist View</title>

    <link href="resource:css/main.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="resource:templates/osxdnd.js" />
    <t:include filename="dynamic.js" />
    <t:execOnLoad><![CDATA[

playlist = app.db.getObjectByID(int(kargs['id']))
playlistView = playlist.getView()
thisPlaylistView = views.playlists.filter(lambda x: x is playlist)
playlist.setSearch(None)

def updateSearchString(newSearch):
    playlist.setSearch(newSearch)
]]>
    </t:execOnLoad>
    <t:execOnUnload><![CDATA[
thisPlaylistView.unlink()
]]>
</t:execOnUnload>
</head>
<body onkeydown="sendKeyToSearchBox(event);">
<div id="main-titlebar">
    <img id="main-icon" src="resource:images/playlist-icon.png" alt="" />
    <div t:updateForView="thisPlaylistView">
        <h1 id="main-title" t:replace="playlist.getTitle()" />
    </div>
</div>

<div id="main-container">
    <div t:repeatForView="playlistView" t:repeatTemplate='download-item' t:containerDiv="true" />
    <div class="playlist-end-drag-hitbox"
	     dragdesttype="downloadeditem"
	     dragdestdata="playlistitem-END"
	     drageffectdownloadeditem="move" />
    </div>
    <div t:updateForView="playlistView">
        <div t:showIf="playlistView.len() == 0">
            <div class="channel-blank">
                <div class="channel-message" i18n:translate="">
                    Empty Playlist
                </div>
                <div class="channel-message small" i18n:translate="">
                    Drag downloaded videos to this playlist to add them.
                </div>
            </div>
        </div>
    </div>
</body>
</html>
